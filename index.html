<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–µ—Ü–µ–ø—Ç–ë–æ—Ç Web App</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <style>
    body { font-family: sans-serif; margin: 0; background: #f8ffe5; }
    .app { padding: 10px; max-width: 700px; margin: auto; }
    .section { display: none; animation: fade 0.4s ease; }
    .active { display: block !important; }
    .scroll-menu { overflow-x: auto; white-space: nowrap; padding: 10px 0; display: flex; gap: 8px; }
    .scroll-menu button { flex: 0 0 auto; background: #fff3c4; border: none; border-radius: 20px; padding: 8px 16px; cursor: pointer; font-size: 14px; }
    .recipe-card { background: #fff; border-radius: 10px; padding: 16px; margin: 10px 0; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .bottom-nav-wrapper { position: fixed; bottom: 0; left: 0; width: 100%; background: #fff3c4; border-top: 1px solid #ddd; }
    .bottom-nav { display: flex; justify-content: space-around; padding: 10px 0; overflow-x: auto; }
    .bottom-nav button { background: transparent; border: none; font-size: 16px; cursor: pointer; }
    .back-button { margin: 10px 0; padding: 6px 12px; background: #eee; border: none; border-radius: 6px; cursor: pointer; }
    @keyframes fade { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .detail-button {
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      border-radius: 20px;
      background-color: #ffe28a;
      color: #333;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .detail-button:hover {
      background-color: #ffce58;
    }
    .accordion-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
}
.accordion-open .accordion-content {
  max-height: 1000px;
}

  </style>
</head>
<body>
 <body>
  <div class="app">
    <h1>üçΩ –©–æ –ø—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏?</h1>
    <div class="scroll-menu section active" id="section-categories"></div>

    <!-- ‚úÖ –ü—ñ–¥–∫–∞–∑–∫–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ .app -->
    <div class="swipe-hint">‚¨Ö –ì–æ—Ä—Ç–∞–π –º–µ–Ω—é ‚û°</div>

    <div id="daily-recipe" class="section active"></div>
    <button class="back-button" style="display:none;" onclick="goHome()">‚¨Ö –ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
    <div id="section-recipes" class="section"></div>

<div class="section" id="section-menu">
  <h2>üìã –ú–æ—î –º–µ–Ω—é</h2>
  <p>–¢—É—Ç –±—É–¥—É—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏.</p>
</div>
<div class="section" id="section-fridge">
  <h2>‚ùÑÔ∏è –©–æ —î –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫—É?</h2>
</div>

<!-- ‚úÖ –æ–∫—Ä–µ–º–∞ —Å–µ–∫—Ü—ñ—è -->
<div class="section" id="section-buy">
  <h2>üõí –©–æ –∫—É–ø–∏—Ç–∏</h2>
  <div style="margin-top:10px;">
    <input class="custom-list-input" placeholder="–î–æ–¥–∞—Ç–∏ –¥–æ —Å–ø–∏—Å–∫—É..." style="padding:8px; width:80%;">
    <button onclick="addToCustomList()" style="padding:8px;">‚ûï</button>
  </div>
  <ul id="custom-list-buy" style="padding-left: 20px;"></ul>
</div>

<div class="section" id="section-profile">
  <h2>üë§ –ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å</h2>
  <p id="days-left"></p>

     <div class="accordion-block" id="fav-accordion">
  <div class="accordion-title" id="open-favorites">
    üíõ –£–ª—é–±–ª–µ–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏ <span id="arrow-fav">üîΩ</span>
  </div>
  <div class="accordion-content" id="favorites-wrapper">
    <div id="favorites-container"></div>
  </div>
</div>

<div class="accordion-block" id="list-accordion">
  <div class="accordion-title" id="open-list">
    üõí –©–æ –∫—É–ø–∏—Ç–∏ <span id="arrow-list">üîΩ</span>
  </div>
  <div class="accordion-content" id="custom-wrapper">
    <div style="margin-top:10px;">
      <input class="custom-list-input" placeholder="–î–æ–¥–∞—Ç–∏ –¥–æ —Å–ø–∏—Å–∫—É..." style="padding:8px; width:80%;">
      <button onclick="addToCustomList()" style="padding:8px;">‚ûï</button>
    </div>
    <ul id="custom-list" style="padding-left: 20px;"></ul>
  </div>
</div>

</div>
</div>
  <!-- –ù–∏–∂–Ω—î –º–µ–Ω—é -->
<div class="bottom-nav-wrapper">
  <div class="bottom-nav" id="bottomNav">
    <button onclick="showSection('section-profile')">üë§ –ü—Ä–æ—Ñ—ñ–ª—å</button>
    <button onclick="showSection('section-recipes')">üçΩ –†–µ—Ü–µ–ø—Ç–∏</button>
    <button onclick="showSection('section-menu')">üçΩ –ú–µ–Ω—é</button>
    <button onclick="showSection('section-buy')">üõí –©–æ –∫—É–ø–∏—Ç–∏</button>
    <button onclick="showSection('section-fridge')">‚ùÑÔ∏è –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫</button>
  </div>
</div>

  
  <script>
const categories = [
  "üë∂ –î–ª—è –¥—ñ—Ç–µ–π", "ü•ó –í–µ–≥–µ—Ç–∞—Ä—ñ–∞–Ω—Å—å–∫–µ", "üåæ –ë–µ–∑ –≥–ª—é—Ç–µ–Ω—É", "‚ö° –®–≤–∏–¥–∫–æ", "üç≤ –ü–µ—Ä—à—ñ —Å—Ç—Ä–∞–≤–∏",
  "ü•ò –î—Ä—É–≥—ñ —Å—Ç—Ä–∞–≤–∏", "ü•ó –°–∞–ª–∞—Ç–∏", "ü•í –ö–æ–Ω—Å–µ—Ä–≤–∞—Ü—ñ—è —Ç–∞ —Å–æ–ª—ñ–Ω–Ω—è", "ü•§ –ù–∞–ø–æ—ó", "üç∞ –î–µ—Å–µ—Ä—Ç–∏",
  "üçû –í–∏–ø—ñ—á–∫–∞", "ü•™ –ó–∞–∫—É—Å–∫–∏", "ü´ï –°–æ—É—Å–∏ —Ç–∞ –∑–∞–ø—Ä–∞–≤–∫–∏"
];

async function fetchRecipes(category = null) {
  try {
    let url = 'https://recipe-backend-0gz1.onrender.com/recipes';
    if (category) url += `?category=${encodeURIComponent(category.toLowerCase())}`;
    const response = await fetch(url);
    return await response.json();
  } catch (e) {
    console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ:", e);
    return [];
  }
}

function groupByRecipeNumber(data) {
  const grouped = {};
  data.forEach(row => {
    const id = row["–Ω–æ–º–µ—Ä —Ä–µ—Ü–µ–ø—Ç—É"];
    if (!grouped[id]) grouped[id] = [];
    grouped[id].push(row);
  });
  return Object.values(grouped);
}

async function loadCategories() {
  const container = document.getElementById('section-categories');
  container.innerHTML = '';
  categories.forEach(cat => {
    const btn = document.createElement('button');
    btn.innerText = cat;
    btn.onclick = async () => {
      const cleanCategory = cat.replace(/^[^\w–∞-—è–ê-–Ø“ê“ë–Ü—ñ–á—ó–Ñ—î]+/, '').trim();
      const raw = await fetchRecipes(cleanCategory.toLowerCase());
      const grouped = groupByRecipeNumber(raw);
      renderGroupedRecipes(grouped, cat);
    };
    container.appendChild(btn);
  });
}

async function loadDailyRecipe() {
  const recipes = await fetchRecipes();
  const container = document.getElementById('daily-recipe');
  const grouped = groupByRecipeNumber(recipes);
  if (grouped.length === 0) return;

  const recipe = grouped[0];
  const id = `daily-details`;
  const info = recipe.find(r => r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ç–µ–∫—Å—Ç") || recipe[0];

  container.innerHTML = `
    <div class="recipe-card">
      <h2>${info["–Ω–∞–∑–≤–∞ —Ä–µ—Ü–µ–ø—Ç—É"]}</h2>
      <p><strong>–ß–∞—Å:</strong> ${info["—á–∞—Å –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è"] || "?"} —Ö–≤</p>
      <p><strong>–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏:</strong> ${info["—ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏"] || "–ù–µ –≤–∫–∞–∑–∞–Ω–æ"}</p>
      <button class="detail-button" onclick="toggleRecipe('${id}', this)">‚ûï –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</button>
      <div id="${id}" style="display:none; margin-top:10px;"></div>
    </div>
  `;

  const block = document.getElementById(id);
  recipe.forEach(r => {
    if (r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ç–µ–∫—Å—Ç") {
      block.innerHTML += `<p>${r["–∫–æ–Ω—Ç–µ–Ω—Ç"]}</p>`;
    } else if (r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ñ–æ—Ç–æ") {
      block.innerHTML += `<img src="${r["–∫–æ–Ω—Ç–µ–Ω—Ç"]}" style="max-width:100%;border-radius:10px;">`;
    }
  });
}

function renderGroupedRecipes(groups, category) {
  const container = document.getElementById('section-recipes');
  container.innerHTML = `<h2>üç¥ ${category}</h2>`;
  groups.forEach((group, index) => {
    const id = `recipe-details-${index}`;
    const info = group.find(r => r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ç–µ–∫—Å—Ç") || group[0];
    const isFavorite = JSON.parse(localStorage.getItem('favorites') || '[]').includes(info["–Ω–æ–º–µ—Ä —Ä–µ—Ü–µ–ø—Ç—É"]);

    const card = document.createElement('div');
    card.className = 'recipe-card';
  
card.innerHTML = `
  <h3>${info["–Ω–∞–∑–≤–∞ —Ä–µ—Ü–µ–ø—Ç—É"]}</h3>
  <p><strong>–ß–∞—Å:</strong> ${info["—á–∞—Å –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è"] || "?"} —Ö–≤</p>
  <p><strong>–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏:</strong> ${info["—ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏"] || "–ù–µ –≤–∫–∞–∑–∞–Ω–æ"}</p>
  <div class="recipe-buttons">
    <button class="detail-button" onclick="toggleRecipe('${id}', this)">‚ûï –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</button>
    <button class="favorite-button" onclick="toggleFavorite('${info["–Ω–æ–º–µ—Ä —Ä–µ—Ü–µ–ø—Ç—É"]}', this)">üíõ –£ —Å–ø–∏—Å–∫—É</button>
  </div>
  <div id="${id}" style="display:none; margin-top:10px;"></div>
`;

    container.appendChild(card);

    const block = document.getElementById(id);
    group.forEach(r => {
      if (r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ç–µ–∫—Å—Ç") {
        block.innerHTML += `<p>${r["–∫–æ–Ω—Ç–µ–Ω—Ç"]}</p>`;
      } else if (r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ñ–æ—Ç–æ") {
        block.innerHTML += `<img src="${r["–∫–æ–Ω—Ç–µ–Ω—Ç"]}" style="max-width:100%;border-radius:10px;">`;
      }
    });
  });
  showSection('section-recipes');
}


function toggleRecipe(id, btn) {
  const el = document.getElementById(id);
  const isShown = el.style.display === 'block';
  el.style.display = isShown ? 'none' : 'block';
  btn.innerText = isShown ? '‚ûï –ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ—Ü–µ–ø—Ç' : '‚ûñ –ó–≥–æ—Ä–Ω—É—Ç–∏';
}

function toggleFavorite(recipeId, button) {
  let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
  const index = favorites.indexOf(recipeId);

  if (index === -1) {
    favorites.push(recipeId);
    button.innerText = 'üíõ –£ —Å–ø–∏—Å–∫—É';
  } else {
    favorites.splice(index, 1);
    button.innerText = '‚ù§Ô∏è –£–ª—é–±–ª–µ–Ω–µ';
  }

  button.disabled = false;
  localStorage.setItem('favorites', JSON.stringify(favorites));

  if (document.getElementById('favorites-container')) {
    loadFavorites(); // –æ–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–æ—Ñ—ñ–ª—å –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è
  }
}

function showSection(id) {
  // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –≤—Å—ñ —Å–µ–∫—Ü—ñ—ó
  document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));

  // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ—Ç—Ä—ñ–±–Ω—É
  const section = document.getElementById(id);
  if (section) section.classList.add('active');

  // –ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—ó –∫–Ω–æ–ø–∫–∏
  document.querySelectorAll('.bottom-nav button').forEach(btn => btn.classList.remove('active'));
  const activeBtn = document.querySelector(`.bottom-nav button[onclick*="${id}"]`);
  if (activeBtn) activeBtn.classList.add('active');

  // –ö–Ω–æ–ø–∫–∞ "–ù–∞ –≥–æ–ª–æ–≤–Ω—É"
  document.querySelector('.back-button').style.display = id !== 'section-categories' ? 'inline-block' : 'none';

  // –Ø–∫—â–æ —Ü–µ –ø—Ä–æ—Ñ—ñ–ª—å –∞–±–æ —Ä–æ–∑–¥—ñ–ª –ø–æ–∫—É–ø–æ–∫ ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –ø–æ—Ç—Ä—ñ–±–Ω–µ
if (id === 'section-profile' || id === 'section-buy') {
  loadFavorites();
  loadCustomList();
}
}
function goHome() {
  document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
  document.getElementById('section-categories').classList.add('active');
  document.getElementById('daily-recipe').classList.add('active');
  document.querySelector('.back-button').style.display = 'none';
}

window.onload = async function () {
  console.log("‚¨áÔ∏è –ü–æ—á–∏–Ω–∞—é –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...");
  await loadCategories();
  await loadDailyRecipe();
  goHome();

  const start = localStorage.getItem('trial_start') || Date.now();
  localStorage.setItem('trial_start', start);
  const daysUsed = Math.floor((Date.now() - start) / (1000 * 60 * 60 * 24));
  const daysLeft = 7 - daysUsed;
  document.getElementById('days-left').innerHTML =
    daysLeft > 0
      ? `üîì –ü—Ä–æ–±–Ω–∞ –≤–µ—Ä—Å—ñ—è: –∑–∞–ª–∏—à–∏–ª–æ—Å—å <strong>${daysLeft} –¥–Ω${daysLeft === 1 ? '—å' : '—ñ'}</strong>`
      : `üîí –ü–ª–∞—Ç–Ω–∞ –≤–µ—Ä—Å—ñ—è –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è <strong>PRO</strong>`;
};

// ‚úÖ –ê –æ—Å—å —Ñ—É–Ω–∫—Ü—ñ—è –ó–û–í–ù–Ü:
function toggleListSection() {
  showSection('section-profile');
  const wrapper = document.getElementById('custom-wrapper');
  const arrow = document.getElementById('arrow-list');
  const isVisible = wrapper.style.display === 'block';
  wrapper.style.display = isVisible ? 'none' : 'block';
  arrow.innerText = isVisible ? 'üîΩ' : 'üîº';
  if (!isVisible) loadCustomList();
}


document.getElementById('open-favorites').addEventListener('click', () => {
  const block = document.getElementById('fav-accordion');
  const wrapper = document.getElementById('favorites-wrapper');
  const arrow = document.getElementById('arrow-fav');
  const isOpen = block.classList.contains('accordion-open');
  block.classList.toggle('accordion-open');
  arrow.innerText = isOpen ? 'üîΩ' : 'üîº';
  if (!isOpen) loadFavorites();
});

document.getElementById('open-list').addEventListener('click', () => {
  showSection('section-profile');
  const block = document.getElementById('list-accordion');
  const wrapper = document.getElementById('custom-wrapper');
  const arrow = document.getElementById('arrow-list');
  const isOpen = block.classList.contains('accordion-open');
  block.classList.toggle('accordion-open');
  arrow.innerText = isOpen ? 'üîΩ' : 'üîº';
  if (!isOpen) loadCustomList();
});

async function loadFavorites() {
  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
  const container = document.getElementById('favorites-container');
  if (!favorites.length) {
    container.innerHTML = '<p>–ù–µ–º–∞—î –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤</p>';
    return;
  }

  const allRecipes = await fetchRecipes();
  const grouped = groupByRecipeNumber(allRecipes);
  const filteredGroups = grouped.filter(group => {
    const info = group.find(r => r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ç–µ–∫—Å—Ç") || group[0];
    return favorites.includes(String(info["–Ω–æ–º–µ—Ä —Ä–µ—Ü–µ–ø—Ç—É"]));
  });

  container.innerHTML = '';
  filteredGroups.forEach((group, index) => {
    const id = `favorite-details-${index}`; // —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID

    const info = group.find(r => r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ç–µ–∫—Å—Ç") || group[0];
    const card = document.createElement('div');
    card.className = 'recipe-card';

    card.innerHTML = `
      <h3>${info["–Ω–∞–∑–≤–∞ —Ä–µ—Ü–µ–ø—Ç—É"]}</h3>
      <p><strong>–ß–∞—Å:</strong> ${info["—á–∞—Å –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è"] || "?"} —Ö–≤</p>
      <p><strong>–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏:</strong> ${info["—ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏"] || "–ù–µ –≤–∫–∞–∑–∞–Ω–æ"}</p>
      <div class="recipe-buttons">
        <button class="detail-button" onclick="toggleRecipe('${id}', this)">‚ûï –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</button>
        <button class="favorite-button" onclick="toggleFavorite('${info["–Ω–æ–º–µ—Ä —Ä–µ—Ü–µ–ø—Ç—É"]}', this)">üíõ –£ —Å–ø–∏—Å–∫—É</button>
      </div>
      <div id="${id}" style="display:none; margin-top:10px;"></div>
    `;

    container.appendChild(card);

    const block = document.getElementById(id);
    group.forEach(r => {
      if (r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ç–µ–∫—Å—Ç") {
        block.innerHTML += `<p>${r["–∫–æ–Ω—Ç–µ–Ω—Ç"]}</p>`;
      } else if (r["—Ç–∏–ø –±–ª–æ–∫—É"] === "—Ñ–æ—Ç–æ") {
        block.innerHTML += `<img src="${r["–∫–æ–Ω—Ç–µ–Ω—Ç"]}" style="max-width:100%;border-radius:10px;">`;
      }
    });
  });
}

function loadCustomList() {
  const items = JSON.parse(localStorage.getItem('custom_list')) || [];

  // üîÅ 1. –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ —É –ø—Ä–æ—Ñ—ñ–ª—ñ
  const containerProfile = document.getElementById('custom-list');
  if (containerProfile) {
    containerProfile.innerHTML = '';
    if (!items.length) {
      containerProfile.innerHTML = '<li>–ü–æ—Ä–æ–∂–Ω—å–æ</li>';
    } else {
      items.forEach((item, index) => {
        const li = document.createElement('li');
        li.innerHTML = `‚Ä¢ ${item} <button onclick="removeFromCustomList(${index})" style="margin-left:10px; cursor:pointer;">üóë</button>`;
        containerProfile.appendChild(li);
      });
    }
  }

  // üîÅ 2. –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ —É —Å–µ–∫—Ü—ñ—ó "–©–æ –∫—É–ø–∏—Ç–∏"
  const containerBuy = document.getElementById('custom-list-buy');
  if (containerBuy) {
    containerBuy.innerHTML = '';
    if (!items.length) {
      containerBuy.innerHTML = '<li>–ü–æ—Ä–æ–∂–Ω—å–æ</li>';
    } else {
      items.forEach((item, index) => {
        const li = document.createElement('li');
        li.innerHTML = `‚Ä¢ ${item} <button onclick="removeFromCustomList(${index})" style="margin-left:10px; cursor:pointer;">üóë</button>`;
        containerBuy.appendChild(li);
      });
    }
  }
}

function addToCustomList() {
  const inputs = document.querySelectorAll('.custom-list-input');
  const input = Array.from(inputs).find(el => el.offsetParent !== null);
  if (!input) return;

  const value = input.value.trim();
  if (!value) return;

  const items = JSON.parse(localStorage.getItem('custom_list')) || [];
  items.push(value);
  localStorage.setItem('custom_list', JSON.stringify(items));
  input.value = '';
  loadCustomList();

  // ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ñ–æ–∫—É—Å—É–≤–∞–Ω–Ω—è –Ω–∞ –ø–æ–ª–µ
  setTimeout(() => input.focus(), 0);
}



function removeFromCustomList(index) {
  const items = JSON.parse(localStorage.getItem('custom_list')) || [];
  items.splice(index, 1); // –≤–∏–¥–∞–ª—è—î–º–æ –æ–±—Ä–∞–Ω–∏–π
  localStorage.setItem('custom_list', JSON.stringify(items));
  loadCustomList(); // –æ–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
}
setTimeout(() => {
  const hint = document.querySelector('.swipe-hint');
  if (hint) {
    hint.style.opacity = '0';
    hint.style.pointerEvents = 'none';
    setTimeout(() => hint.remove(), 400); // –ü–æ–≤–Ω—ñ—Å—Ç—é –ø—Ä–∏–±–µ—Ä–µ –∑ DOM
  }
}, 10000); // 10 000 –º—Å = 10 —Å–µ–∫—É–Ω–¥

</script>
</body>
</html>
